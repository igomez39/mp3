---
title: "mp3"
author: "Selina Ho"
date: "April 9, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(leaflet)
library(sf)
library(macleish)

install.packages("macleish")


?macleish_layers
rm(macleish_layers)
devtools::install_github("beanumber/macleish")

library(macleish)
packageVersion("macleish")
names(macleish_layers)


leaflet(data = trail_lengths) %>%
  addTiles() %>%
  addPolylines()
trail_lengths <-(macleish_layers[["trails"]]) %>%
    group_by(name) %>%
    summarize() %>%
  mutate(computed_length = st_length(geometry))

change_elevation <- (macleish_layers[["contours_30ft"]]) %>%
  mutate(change_in_elevation = st_length(geometry))

View(change_elevation)

View(macleish_layers[["contours_30ft"]])

trails_elevation <- st_join(trail_lengths,change_elevation)


View(trails_elevation)

trails_elevation_condensed <- trails_elevation %>%
  group_by(name) %>%
  summarize(elevation_change = sum(change_in_elevation), trail_length = mean(computed_length)) %>%
  na.omit

View(trails_elevation_condensed)

st_bbox(bike_trails)
leaflet() %>%
  addTiles() %>%
  addPolylines(data = trails_elevation_condensed)

pal <- colorNumeric(
  palette = "viridis",
  domain = trails_elevation_condensed$trail_length
)
trails_elevation_condensed_4326 <- trails_elevation_condensed %>%
  st_transform(4326)
trails_elevation_condensed_4326
install.packages("viridisLite") 
install.packages("viridis") 

leaflet(data = trails_elevation_condensed) %>%
  addTiles() %>%
  addPolylines()

lol
```

