---
title: "mp3"
author: "Selina Ho"
date: "April 9, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(leaflet)
library(sf)

install.packages("sf")

devtools::install_github("beanumber/macleish")

library(macleish)

names(macleish_layers)

macleish_layers[["buildings"]]

lapply(macleish_layers, class)

macleish_layers[["buildings"]] %>%
  plot()

macleish_layers[["trails"]]

#MacLeish has approximately four miles of built trail for use by field station visitors. We would like to be able to classify these trails as “Easy,” “Moderate,” or “Difficult” based on their length and change in elevation. Use the spatial data to develop a heuristic that will classify these (or any other) trails based on their difficulty.
#Supporting data includes:
#Existing trails shapefile
#10’ contour elevation data

names(macleish_layers)

library(sf)

con2 <- path.expand("whately_contours")
con2
list.files(con2)

st_layers(con2)

whatecon2 <- read_sf(con2)
whatecon2

#forests, streams, wetlands, boundary, trails
streams_inside <- macleish_layers[["boundary"]] %>%
  st_intersection(macleish_layers[["streams"]])

trails_outside <- macleish_layers[["trails"]] %>%
  st_difference(macleish_layers[["boundary"]])

require(leaflet)
m <- leaflet() %>%
  addTiles() %>%
  addPolylines(data = macleish_layers[["trails"]], weight = 1, color = "brown") %>%
  addPolylines(data = macleish_layers[["streams"]], weight = 2) %>%
    addPolygons(data = macleish_layers[["boundary"]], weight = 1, fillOpacity = 0.01, group = "Boundaries")
m

macleish_layers[["boundary"]] %>%
  st_area()

forests <- macleish_layers[["forests"]] %>%
  rename(forest_type = Sheet1__Na)
	
```

